[mypy]
python_version = 3.11
files = src
mypy_path = src
exclude = (?x)(^tools/|^tests/|^scripts/)
warn_unused_ignores = True
warn_redundant_casts = True
disallow_untyped_defs = True
no_implicit_optional = True
strict_equality = True

# Your code strict - core platform code
[mypy-src.*]
strict = True

[mypy-crank_platform.*]
strict = True

# Chill for noisy ML libs
[mypy-ultralytics.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-torch.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-torchvision.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-clip.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-sentence_transformers.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-transformers.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-numpy.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-cv2.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-GPUtil.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-albumentations.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-imagehash.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-scipy.*]
ignore_missing_imports = True
follow_imports = silent

[mypy-gpu_manager]
ignore_missing_imports = True
follow_imports = skip

[mypy-crank_platform.security.*]
ignore_missing_imports = True
follow_imports = skip

# Services are development/prototype code - more lenient
[mypy-services.*]
check_untyped_defs = False
disallow_untyped_defs = False
ignore_errors = True

# Scripts and tools - very permissive
[mypy-scripts.*]
ignore_errors = True

[mypy-tools.*]
ignore_errors = True
