# üçé Local MacBook Development Configuration
# Environment variables for Docker Desktop on macOS
# 
# Usage:
#   cp .env.local .env
#   docker-compose -f docker-compose.local.yml up

# =============================================================================
# üè¢ LOCAL PLATFORM CORE SERVICES (8000-8099)
# =============================================================================

# Main Platform Service - Local Development
PLATFORM_PORT=8000
PLATFORM_HTTPS_PORT=8443

# Local Development Auth Token
PLATFORM_AUTH_TOKEN=local-dev-key-secure

# Container Registry Configuration
REGISTRY=crankplatformregistry.azurecr.io
TAG=latest

# =============================================================================  
# üìÑ DOCUMENT PROCESSING SERVICES (8100-8199)
# =============================================================================

# Document Converter - Local Development
DOC_CONVERTER_PORT=8100
DOC_CONVERTER_HOST=0.0.0.0
DOC_CONVERTER_HTTPS_PORT=8101

# =============================================================================
# üìß EMAIL PROCESSING SERVICES (8200-8399) 
# =============================================================================

# Email Classifier - Lightweight for Local
EMAIL_CLASSIFIER_PORT=8200
EMAIL_CLASSIFIER_HOST=0.0.0.0
EMAIL_CLASSIFIER_HTTPS_PORT=8201

# Email Parser - Local Development
EMAIL_PARSER_PORT=8300
EMAIL_PARSER_HOST=0.0.0.0
EMAIL_PARSER_HTTPS_PORT=8301

# =============================================================================
# üñºÔ∏è  IMAGE PROCESSING SERVICES (8400-8499)
# =============================================================================

# Image Classifier - Optional for Local (Resource Intensive)
IMAGE_CLASSIFIER_PORT=8400
IMAGE_CLASSIFIER_HOST=0.0.0.0
IMAGE_CLASSIFIER_HTTPS_PORT=8401

# =============================================================================
# üåä STREAMING SERVICES (8500-8599)
# =============================================================================

# Streaming Service - Local Development
STREAMING_PORT=8500
STREAMING_HOST=0.0.0.0
STREAMING_HTTPS_PORT=8501

# =============================================================================
# üîí LOCAL DEVELOPMENT CONFIGURATION
# =============================================================================

# Development Environment
CRANK_ENVIRONMENT=development

# Debug Logging for Local Development
LOG_LEVEL=DEBUG

# =============================================================================
# üçé MACOS DOCKER DESKTOP OPTIMIZATIONS
# =============================================================================

# Docker Desktop Resource Limits
COMPOSE_PROJECT_NAME=crank-local

# Enable Docker Desktop BuildKit
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# =============================================================================
# üöÄ LOCAL DEVELOPMENT SHORTCUTS
# =============================================================================

# Quick Commands:
# 
# Start full platform:
#   docker-compose -f docker-compose.local.yml up -d
#
# Start lightweight (no image classifier):
#   docker-compose -f docker-compose.local.yml --profile minimal up -d
#
# View logs:
#   docker-compose -f docker-compose.local.yml logs -f
#
# Stop all:
#   docker-compose -f docker-compose.local.yml down
#
# Update images:
#   docker-compose -f docker-compose.local.yml pull
#
# Clean restart:
#   docker-compose -f docker-compose.local.yml down && docker-compose -f docker-compose.local.yml up -d

# =============================================================================
# üß™ LOCAL TESTING ENDPOINTS
# =============================================================================

# After starting, test these URLs:
# Platform: https://localhost:8443/health/live
# Docs: https://localhost:8101/health
# Email: https://localhost:8201/health
# Parser: https://localhost:8301/health
# Images: https://localhost:8401/health
# Streaming: https://localhost:8501/health